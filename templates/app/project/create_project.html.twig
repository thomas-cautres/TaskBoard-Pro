{% extends 'app/base.html.twig' %}

{% block title %}Cr√©er un projet - TaskBoard Pro{% endblock %}
{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="{{ asset('styles/create-project.css') }}">
{% endblock %}
{% block body %}
    <div class="row">
        <div class="col-lg-8 mx-auto">
            <!-- Breadcrumb -->
            <nav aria-label="breadcrumb" class="mb-4">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="project_index_complete.html">Projets</a></li>
                    <li class="breadcrumb-item active">Cr√©er un projet</li>
                </ol>
            </nav>

            <!-- Page Header -->
            <div class="mb-4">
                <h1 class="h2 mb-2">
                    <i class="bi bi-plus-circle text-primary"></i>
                    Cr√©er un nouveau projet
                </h1>
                <p class="text-muted mb-0">Organisez votre travail avec la m√©thodologie qui vous convient</p>
            </div>

            <!-- Formulaire -->
            <div class="card shadow-sm">
                <div class="card-body p-4">
                    <form id="projectForm">
                        <!-- Nom du projet -->
                        <div class="mb-4">
                            <label for="projectName" class="form-label fw-semibold">Nom du projet *</label>
                            <input type="text" class="form-control" id="projectName" name="projectName"
                                   placeholder="Ex: Refonte Site Web E-commerce" required>
                            <div class="form-text">
                                <i class="bi bi-info-circle"></i>
                                Choisissez un nom unique et descriptif
                            </div>
                        </div>

                        <!-- Description -->
                        <div class="mb-4">
                            <label for="projectDescription" class="form-label fw-semibold">Description</label>
                            <textarea class="form-control" id="projectDescription" name="projectDescription" rows="4"
                                      placeholder="D√©crivez les objectifs et le contexte du projet..."></textarea>
                            <div class="form-text">Optionnel - Vous pourrez la modifier plus tard</div>
                        </div>

                        <!-- Type de projet -->
                        <div class="mb-4">
                            <label class="form-label fw-semibold">Type de projet *</label>

                            <div class="row g-3">
                                <!-- SCRUM -->
                                <div class="col-md-4">
                                    <label class="project-type-card card h-100 p-3">
                                        <input type="radio" name="projectType" value="scrum" required>
                                        <div class="d-flex align-items-start">
                                            <i class="bi bi-calendar-week fs-2 text-success me-2"></i>
                                            <div>
                                                <h6 class="mb-1">üèÉ SCRUM</h6>
                                                <small class="text-muted">
                                                    Sprints, backlog, planning poker, burndown charts
                                                </small>
                                            </div>
                                        </div>
                                    </label>
                                </div>

                                <!-- KANBAN -->
                                <div class="col-md-4">
                                    <label class="project-type-card card h-100 p-3">
                                        <input type="radio" name="projectType" value="kanban" required>
                                        <div class="d-flex align-items-start">
                                            <i class="bi bi-kanban fs-2 text-warning me-2"></i>
                                            <div>
                                                <h6 class="mb-1">üìã KANBAN</h6>
                                                <small class="text-muted">
                                                    Flux continu, WIP limits, visualisation claire
                                                </small>
                                            </div>
                                        </div>
                                    </label>
                                </div>

                                <!-- BASIC -->
                                <div class="col-md-4">
                                    <label class="project-type-card card h-100 p-3">
                                        <input type="radio" name="projectType" value="basic" required>
                                        <div class="d-flex align-items-start">
                                            <i class="bi bi-list-check fs-2 text-secondary me-2"></i>
                                            <div>
                                                <h6 class="mb-1">üìù BASIC</h6>
                                                <small class="text-muted">
                                                    Simple liste ouvert/ferm√©, id√©al pour d√©buter
                                                </small>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <div class="alert alert-info mt-3">
                                <i class="bi bi-lightbulb"></i>
                                <strong>√Ä savoir :</strong> Des colonnes seront automatiquement cr√©√©es selon le type
                                choisi. Vous pourrez les personnaliser apr√®s la cr√©ation.
                            </div>
                        </div>

                        <!-- Dates -->
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <label for="startDate" class="form-label fw-semibold">Date de d√©but</label>
                                <input type="date" class="form-control" id="startDate" name="startDate">
                                <div class="form-text">Optionnel</div>
                            </div>

                            <div class="col-md-6">
                                <label for="endDate" class="form-label fw-semibold">Date de fin</label>
                                <input type="date" class="form-control" id="endDate" name="endDate">
                                <div class="form-text">Optionnel</div>
                            </div>
                        </div>

                        <!-- Actions -->
                        <hr class="my-4">

                        <div class="d-flex justify-content-between align-items-center">
                            <a href="project_index_complete.html" class="btn btn-outline-secondary">
                                <i class="bi bi-x-circle"></i>
                                Annuler
                            </a>

                            <button type="submit" class="btn btn-primary btn-lg">
                                <i class="bi bi-check-circle"></i>
                                Cr√©er le projet
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Informations compl√©mentaires -->
            <div class="card mt-4 border-0 bg-light">
                <div class="card-body">
                    <h6 class="card-title">
                        <i class="bi bi-info-circle text-primary"></i>
                        Ce qui se passera apr√®s la cr√©ation
                    </h6>
                    <ul class="mb-0 small text-muted">
                        <li>Vous deviendrez automatiquement <strong>Project Manager</strong> du projet</li>
                        <li>Des colonnes par d√©faut seront cr√©√©es selon le type choisi</li>
                        <li>Vous pourrez inviter des membres et cr√©er des t√¢ches imm√©diatement</li>
                        <li>Le type de projet ne pourra plus √™tre modifi√© par la suite</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <script>
        // Toggle sidebar sur mobile
        document.querySelector('.navbar-toggler')?.addEventListener('click', function () {
            document.querySelector('.sidebar')?.classList.toggle('show');
        });

        // Gestion de la s√©lection visuelle du type de projet
        document.querySelectorAll('.project-type-card').forEach(card => {
            card.addEventListener('click', function () {
                // Retirer la classe selected de tous
                document.querySelectorAll('.project-type-card').forEach(c => c.classList.remove('selected'));
                // Ajouter √† celui cliqu√©
                this.classList.add('selected');
                // Cocher le radio
                this.querySelector('input[type="radio"]').checked = true;
            });
        });
    </script>
{% endblock %}
